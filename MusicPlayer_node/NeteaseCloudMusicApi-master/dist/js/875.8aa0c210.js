"use strict";(self["webpackChunkmusic_player"]=self["webpackChunkmusic_player"]||[]).push([[875],{3875:function(e,l,t){t.r(l),t.d(l,{default:function(){return U}});var n=t(3396),a=t(9242),c=t(7139),r=t(4317),o=t(991);function s(){return(0,o.U)("/search/default")}function i(){return(0,o.U)("/search/hot")}function u(e){return(0,o.U)("/cloudsearch",{keywords:e})}function d(e){return(0,o.U)("/song/detail",{ids:e.id})}var p=t(4870),m=t(65);const v=e=>((0,n.pushScopeId)("data-v-a5a43c44"),e=e(),(0,n.popScopeId)(),e),h={class:"search"},k={class:"search-input"},f=v((()=>(0,n.createElementVNode)("i",{class:"icon-search"},null,-1))),w=["placeholder"],E={class:"hot-keys"},V=v((()=>(0,n.createElementVNode)("h1",{class:"title"},"热门搜索",-1))),N=["onClick"],y={class:"search-result"},B=["onClick"],C=(0,n.createTextVNode)(" - ");var _={__name:"Search",setup(e){const l=(0,m.oR)(),t=(0,p.iH)(""),o=(0,p.iH)([]),v=(0,p.iH)(""),_=(0,p.iH)([]),g=(0,p.iH)(null);function H(e){v.value=e}function U(e){return e.ar.map((e=>e.name)).join(" & ")}function D(){v.value="",_.value=[]}async function F(e){const t=await d(e);l.dispatch("addOnePlay",t.songs)}return(0,n.watch)(v,(async e=>{if(g.value.scroll.scrollTo(0,0),!e.trim())return;const l=await u(e);_.value=l.result.songs})),(0,n.onMounted)((async()=>{let e=await s();t.value=e.data.showKeyword;let l=await i();o.value=l.result.hots})),(e,l)=>{const s=(0,n.resolveDirective)("loading");return(0,n.openBlock)(),(0,n.createElementBlock)("div",h,[(0,n.createElementVNode)("div",k,[f,(0,n.withDirectives)((0,n.createElementVNode)("input",{class:"input-inner","onUpdate:modelValue":l[0]||(l[0]=e=>v.value=e),placeholder:t.value},null,8,w),[[a.nr,v.value]]),(0,n.withDirectives)((0,n.createElementVNode)("i",{class:"icon-dismiss",onClick:D},null,512),[[a.F8,v.value]])]),(0,n.createElementVNode)("div",E,[V,(0,n.createElementVNode)("ul",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.value,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:e,class:"item"},[(0,n.createElementVNode)("span",{onClick:l=>H(e.first)},(0,c.zw)(e.first),9,N)])))),128))])]),(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("div",y,[(0,n.createVNode)(r.Z,{class:"result-wrapper",ref_key:"scrollRef",ref:g},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("ul",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(_.value,((e,l)=>((0,n.openBlock)(),(0,n.createElementBlock)("li",{key:l,onClick:l=>F(e)},[(0,n.createElementVNode)("span",null,(0,c.zw)(e.name),1),C,(0,n.createElementVNode)("span",null,(0,c.zw)(U(e)),1)],8,B)))),128))])])),_:1},512)])),[[a.F8,v.value.trim()],[s,!_.value.length]])])}}},g=t(89);const H=(0,g.Z)(_,[["__scopeId","data-v-a5a43c44"]]);var U=H}}]);